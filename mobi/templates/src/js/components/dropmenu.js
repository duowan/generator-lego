/*! Project: LegoMobile
 *  Version: 3.0.0
 */
define("dropmenu",["zepto"],function(a,b,c){var d=a("zepto"),e=function(a){var b={position:"center",selection:null,afterdrop:null};this.options=d.extend(b,a),this.el=arguments[0].ref,this.renderList(),this.addEvents()};e.prototype.renderList=function(){for(var a=this,b=a.options,c=b.selection,e='<div class="m-droplist--'+b.position+'"><ul class="m-nav-droplist animation">',f=0,g=c.length;g>f;f++)e+='<li class="m-nav-droplist-item"><a href="'+c[f].href+'">'+c[f].title+"</a></li>";e+="</ul></div>",d(this.el).after(e)},e.prototype.addEvents=function(){d(".m-nav").on("click",".m-nav-list__item",function(){d(this).hasClass("active")||(d(".m-nav-droplist").removeClass("slide-down-menu"),d(".m-nav-list__item").removeClass("active")),d(this).toggleClass("active"),d(this).parent().find(".m-nav-droplist").toggleClass("slide-down-menu")})},d.fn.dropmenu=function(a){return a=d.extend({},a,{ref:this[0]}),new e(a)},c.exports=function(a){return new e(a)}});